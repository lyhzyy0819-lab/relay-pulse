import{j as e}from"./index-lyjpRGYG.js";import{d as E,c as I,r as b}from"./router-Bv_Qn1wY.js";import{a as N}from"./helmet-CzrW8xDS.js";import{u as L,T as M,d as R,e as $,F as q}from"./useMonitorData-SjrYSc1V.js";import{u as w}from"./i18n-CHCxKNI1.js";import{c as y}from"./icons-DIKtrEYc.js";import"./react-vendor-OvXVS5lI.js";function A(o){return o?.trim().toLowerCase()??""}function X(){const{provider:o}=E(),[a]=I(),{t,i18n:S}=w(),r=a.get("embed")==="1",i=A(o),m="24h",z="all",P="all",[p,T]=b.useState({key:"uptime",direction:"desc"}),[k,h]=b.useState({show:!1,x:0,y:0,data:null}),{data:c,loading:u,error:d,stats:C,slowLatencyMs:f}=L({timeRange:m,filterService:z,filterProvider:"all",filterChannel:P,filterCategory:"all",sortConfig:p}),g=new Map;c.forEach(s=>{g.set(s.providerSlug,s.providerId)});const F=g.get(i)||i,n=c.filter(s=>s.providerId===F),B=c.some(s=>s.providerSlug===i);if(!u&&!d&&!B)return e.jsx(G,{providerSlug:o||"",isEmbedMode:r});const v=n[0]?.providerName||o||"",D=(s,l)=>{const x=s.currentTarget.getBoundingClientRect();h({show:!0,x:x.left+x.width/2,y:x.top-10,data:l})},j=()=>{h(s=>({...s,show:!1}))},H=s=>{T(l=>({key:s,direction:l.key===s&&l.direction==="asc"?"desc":"asc"}))};return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx("html",{lang:S.language}),e.jsx("title",{children:t("provider.pageTitle",{name:v})}),e.jsx("meta",{name:"description",content:t("provider.pageDescription",{name:v})})]}),e.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-200 font-sans selection:bg-cyan-500 selection:text-white overflow-x-hidden",children:[e.jsx(M,{tooltip:k,onClose:j,slowLatencyMs:f}),!r&&e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[600px] h-[600px] bg-blue-600/10 rounded-full blur-[120px]"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-cyan-600/10 rounded-full blur-[120px]"})]}),e.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 py-4 sm:py-6 sm:px-6 lg:px-8",children:[!r&&e.jsx(R,{stats:C}),e.jsx("main",{children:d?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-rose-400",children:[e.jsx(y,{size:64,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg",children:t("common.error",{message:d})})]}):u&&n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/20 border-t-cyan-500 rounded-full animate-spin"}),e.jsx("p",{className:"animate-pulse",children:t("common.loading")})]}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600",children:[e.jsx(y,{size:64,className:"mb-4 opacity-20"}),e.jsx("p",{className:"text-lg",children:t("common.noData")})]}):e.jsx($,{data:n,sortConfig:p,timeRange:m,slowLatencyMs:f,showCategoryTag:!1,showProvider:!r,showSponsor:!1,onSort:H,onBlockHover:D,onBlockLeave:j})}),!r&&e.jsx(q,{})]})]})]})}function G({providerSlug:o,isEmbedMode:a}){const{t}=w();return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx("title",{children:t("provider.notFoundTitle")}),e.jsx("meta",{name:"robots",content:"noindex, nofollow"})]}),e.jsx("div",{className:`min-h-screen flex items-center justify-center ${a?"":"bg-black"}`,children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h1",{className:"text-6xl font-bold text-zinc-100 mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-zinc-400 mb-8",children:t("provider.notFoundMessage",{slug:o})}),!a&&e.jsx("a",{href:"/",className:"inline-block px-6 py-3 bg-zinc-800 hover:bg-zinc-700 text-zinc-100 rounded-lg transition-colors",children:t("provider.backToHome")})]})})]})}export{X as default};
